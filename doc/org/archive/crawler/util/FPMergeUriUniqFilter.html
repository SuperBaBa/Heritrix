<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Oct 23 23:57:34 CST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>FPMergeUriUniqFilter</title>
<meta name="date" content="2016-10-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FPMergeUriUniqFilter";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/archive/crawler/util/DiskFPMergeUriUniqFilter.DataFileLongIterator.html" title="org.archive.crawler.util中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.PendingItem.html" title="org.archive.crawler.util中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/archive/crawler/util/FPMergeUriUniqFilter.html" target="_top">框架</a></li>
<li><a href="FPMergeUriUniqFilter.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested_class_summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.archive.crawler.util</div>
<h2 title="类 FPMergeUriUniqFilter" class="title">类 FPMergeUriUniqFilter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.archive.crawler.util.FPMergeUriUniqFilter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></dd>
</dl>
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../../../org/archive/crawler/util/DiskFPMergeUriUniqFilter.html" title="org.archive.crawler.util中的类">DiskFPMergeUriUniqFilter</a>, <a href="../../../../org/archive/crawler/util/MemFPMergeUriUniqFilter.html" title="org.archive.crawler.util中的类">MemFPMergeUriUniqFilter</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">FPMergeUriUniqFilter</span>
extends java.lang.Object
implements <a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></pre>
<div class="block">UriUniqFilter based on merging FP arrays (in memory or from disk). 
 
 Inspired by the approach in Najork and Heydon, "High-Performance
 Web Crawling" (2001), section 3.2, "Efficient Duplicate URL 
 Eliminators".</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.PendingItem.html" title="org.archive.crawler.util中的类">FPMergeUriUniqFilter.PendingItem</a></strong></code>
<div class="block">Represents a long fingerprint and (possibly) its corresponding
 CandidateURI, awaiting the next merge in a 'pending' state.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.archive.crawler.datamodel.UriUniqFilter">
<!--   -->
</a>
<h3>从接口继承的嵌套类/接口&nbsp;org.archive.crawler.datamodel.<a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></h3>
<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.HasUriReceiver.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter.HasUriReceiver</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#DEFAULT_MAX_PENDING">DEFAULT_MAX_PENDING</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#FLUSH_DELAY_FACTOR">FLUSH_DELAY_FACTOR</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#maxPending">maxPending</a></strong></code>
<div class="block">size at which to force flush of pending items</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#mergeDupAtLast">mergeDupAtLast</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#mergeDuplicateCount">mergeDuplicateCount</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#nextFlushAllowableAfter">nextFlushAllowableAfter</a></strong></code>
<div class="block">time-based throttle on flush-merge operations</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#pendDupAtLast">pendDupAtLast</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#pendDuplicateCount">pendDuplicateCount</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.TreeSet&lt;<a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.PendingItem.html" title="org.archive.crawler.util中的类">FPMergeUriUniqFilter.PendingItem</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#pendingSet">pendingSet</a></strong></code>
<div class="block">items awaiting merge
 TODO: consider only sorting just pre-merge
 TODO: consider using a fastutil long->Object class
 TODO: consider actually writing items to disk file,
 as in Najork/Heydon</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.io.PrintWriter</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#profileLog">profileLog</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/archive/util/fingerprint/ArrayLongFPCache.html" title="org.archive.util.fingerprint中的类">ArrayLongFPCache</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#quickCache">quickCache</a></strong></code>
<div class="block">cache of most recently seen FPs</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#quickDupAtLast">quickDupAtLast</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#quickDuplicateCount">quickDuplicateCount</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.HasUriReceiver.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter.HasUriReceiver</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#receiver">receiver</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#FPMergeUriUniqFilter()">FPMergeUriUniqFilter</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#add(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">add</a></strong>(java.lang.String&nbsp;key,
   <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</code>
<div class="block">Add given uri, if not already present.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#addForce(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">addForce</a></strong>(java.lang.String&nbsp;key,
        <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</code>
<div class="block">Add given uri, all the way through to underlying destination, even 
 if already present.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#addNewFp(long)">addNewFp</a></strong>(long&nbsp;fp)</code>
<div class="block">Add an FP (which may be an old or new FP) to the new complete
 list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#addNow(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">addNow</a></strong>(java.lang.String&nbsp;key,
      <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</code>
<div class="block">Immediately add uri.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract it.unimi.dsi.fastutil.longs.LongIterator</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#beginFpMerge()">beginFpMerge</a></strong>()</code>
<div class="block">Begin merging pending candidates with complete list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#close()">close</a></strong>()</code>
<div class="block">Close down any allocated resources.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#createFp(java.lang.CharSequence)">createFp</a></strong>(java.lang.CharSequence&nbsp;key)</code>
<div class="block">Create a fingerprint from the given key</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#finishFpMerge()">finishFpMerge</a></strong>()</code>
<div class="block">Complete the merge of candidate and previously-known FPs (closing
 files/iterators as appropriate).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#flush()">flush</a></strong>()</code>
<div class="block">Perform a merge of all 'pending' items to the overall fingerprint list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#forget(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">forget</a></strong>(java.lang.String&nbsp;key,
      <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</code>
<div class="block">Forget item was seen</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#note(java.lang.String)">note</a></strong>(java.lang.String&nbsp;key)</code>
<div class="block">Note item as seen, without passing through to receiver.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#pend(long,%20org.archive.crawler.datamodel.CandidateURI)">pend</a></strong>(long&nbsp;fp,
    <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</code>
<div class="block">Place the given FP/CandidateURI pair into the pending set, awaiting
 a merge to determine if it's actually accepted.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#pending()">pending</a></strong>()</code>
<div class="block">Count of items added, but not yet filtered in or out.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#profileLog(java.lang.String)">profileLog</a></strong>(java.lang.String&nbsp;key)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#requestFlush()">requestFlush</a></strong>()</code>
<div class="block">Request that any pending items be added/dropped.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#setDestination(org.archive.crawler.datamodel.UriUniqFilter.HasUriReceiver)">setDestination</a></strong>(<a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.HasUriReceiver.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter.HasUriReceiver</a>&nbsp;receiver)</code>
<div class="block">Receiver of uniq URIs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#setMaxPending(int)">setMaxPending</a></strong>(int&nbsp;max)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.html#setProfileLog(java.io.File)">setProfileLog</a></strong>(java.io.File&nbsp;logfile)</code>
<div class="block">Set a File to receive a log for replay profiling.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.archive.crawler.datamodel.UriUniqFilter">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;org.archive.crawler.datamodel.<a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></h3>
<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#count()">count</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="receiver">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiver</h4>
<pre>protected&nbsp;<a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.HasUriReceiver.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter.HasUriReceiver</a> receiver</pre>
</li>
</ul>
<a name="profileLog">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>profileLog</h4>
<pre>protected&nbsp;java.io.PrintWriter profileLog</pre>
</li>
</ul>
<a name="quickDuplicateCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quickDuplicateCount</h4>
<pre>protected&nbsp;long quickDuplicateCount</pre>
</li>
</ul>
<a name="quickDupAtLast">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quickDupAtLast</h4>
<pre>protected&nbsp;long quickDupAtLast</pre>
</li>
</ul>
<a name="pendDuplicateCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendDuplicateCount</h4>
<pre>protected&nbsp;long pendDuplicateCount</pre>
</li>
</ul>
<a name="pendDupAtLast">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendDupAtLast</h4>
<pre>protected&nbsp;long pendDupAtLast</pre>
</li>
</ul>
<a name="mergeDuplicateCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeDuplicateCount</h4>
<pre>protected&nbsp;long mergeDuplicateCount</pre>
</li>
</ul>
<a name="mergeDupAtLast">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeDupAtLast</h4>
<pre>protected&nbsp;long mergeDupAtLast</pre>
</li>
</ul>
<a name="pendingSet">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingSet</h4>
<pre>protected&nbsp;java.util.TreeSet&lt;<a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.PendingItem.html" title="org.archive.crawler.util中的类">FPMergeUriUniqFilter.PendingItem</a>&gt; pendingSet</pre>
<div class="block">items awaiting merge
 TODO: consider only sorting just pre-merge
 TODO: consider using a fastutil long->Object class
 TODO: consider actually writing items to disk file,
 as in Najork/Heydon</div>
</li>
</ul>
<a name="maxPending">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxPending</h4>
<pre>protected&nbsp;int maxPending</pre>
<div class="block">size at which to force flush of pending items</div>
</li>
</ul>
<a name="DEFAULT_MAX_PENDING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAX_PENDING</h4>
<pre>public static final&nbsp;int DEFAULT_MAX_PENDING</pre>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#org.archive.crawler.util.FPMergeUriUniqFilter.DEFAULT_MAX_PENDING">常量字段值</a></dd></dl>
</li>
</ul>
<a name="nextFlushAllowableAfter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextFlushAllowableAfter</h4>
<pre>protected&nbsp;long nextFlushAllowableAfter</pre>
<div class="block">time-based throttle on flush-merge operations</div>
</li>
</ul>
<a name="FLUSH_DELAY_FACTOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FLUSH_DELAY_FACTOR</h4>
<pre>public static final&nbsp;long FLUSH_DELAY_FACTOR</pre>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#org.archive.crawler.util.FPMergeUriUniqFilter.FLUSH_DELAY_FACTOR">常量字段值</a></dd></dl>
</li>
</ul>
<a name="quickCache">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>quickCache</h4>
<pre>protected&nbsp;<a href="../../../../org/archive/util/fingerprint/ArrayLongFPCache.html" title="org.archive.util.fingerprint中的类">ArrayLongFPCache</a> quickCache</pre>
<div class="block">cache of most recently seen FPs</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="FPMergeUriUniqFilter()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FPMergeUriUniqFilter</h4>
<pre>public&nbsp;FPMergeUriUniqFilter()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="setMaxPending(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxPending</h4>
<pre>public&nbsp;void&nbsp;setMaxPending(int&nbsp;max)</pre>
</li>
</ul>
<a name="pending()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pending</h4>
<pre>public&nbsp;long&nbsp;pending()</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#pending()">UriUniqFilter</a></code></strong></div>
<div class="block">Count of items added, but not yet filtered in or out. 
 
 Some implementations may buffer up large numbers of pending
 items to be evaluated in a later large batch/scan/merge with 
 disk files.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#pending()">pending</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
<dt><span class="strong">返回:</span></dt><dd>Count of items added not yet evaluated</dd></dl>
</li>
</ul>
<a name="setDestination(org.archive.crawler.datamodel.UriUniqFilter.HasUriReceiver)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDestination</h4>
<pre>public&nbsp;void&nbsp;setDestination(<a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.HasUriReceiver.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter.HasUriReceiver</a>&nbsp;receiver)</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#setDestination(org.archive.crawler.datamodel.UriUniqFilter.HasUriReceiver)">UriUniqFilter</a></code></strong></div>
<div class="block">Receiver of uniq URIs.
 
 Items that have not been seen before are pass through to this object.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#setDestination(org.archive.crawler.datamodel.UriUniqFilter.HasUriReceiver)">setDestination</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>receiver</code> - Object that will be passed items. Must implement
 HasUriReceiver interface.</dd></dl>
</li>
</ul>
<a name="profileLog(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>profileLog</h4>
<pre>protected&nbsp;void&nbsp;profileLog(java.lang.String&nbsp;key)</pre>
</li>
</ul>
<a name="add(java.lang.String, org.archive.crawler.datamodel.CandidateURI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(java.lang.String&nbsp;key,
       <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#add(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">UriUniqFilter</a></code></strong></div>
<div class="block">Add given uri, if not already present.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#add(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">add</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>key</code> - Usually a canonicalized version of <code>value</code>.
 This is the key used doing lookups, forgets and insertions on the
 already included list.</dd><dd><code>value</code> - item to add.</dd></dl>
</li>
</ul>
<a name="pend(long, org.archive.crawler.datamodel.CandidateURI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pend</h4>
<pre>protected&nbsp;void&nbsp;pend(long&nbsp;fp,
        <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</pre>
<div class="block">Place the given FP/CandidateURI pair into the pending set, awaiting
 a merge to determine if it's actually accepted.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>fp</code> - long fingerprint</dd><dd><code>value</code> - CandidateURI or null, if fp only needs merging (as when 
 CandidateURI was already forced in</dd></dl>
</li>
</ul>
<a name="createFp(java.lang.CharSequence)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFp</h4>
<pre>public static&nbsp;long&nbsp;createFp(java.lang.CharSequence&nbsp;key)</pre>
<div class="block">Create a fingerprint from the given key</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>key</code> - CharSequence (URI) to fingerprint</dd>
<dt><span class="strong">返回:</span></dt><dd>long fingerprint</dd></dl>
</li>
</ul>
<a name="addNow(java.lang.String, org.archive.crawler.datamodel.CandidateURI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNow</h4>
<pre>public&nbsp;void&nbsp;addNow(java.lang.String&nbsp;key,
          <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#addNow(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">UriUniqFilter</a></code></strong></div>
<div class="block">Immediately add uri.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#addNow(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">addNow</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>key</code> - Usually a canonicalized version of <code>uri</code>.
 This is the key used doing lookups, forgets and insertions on the
 already included list.</dd><dd><code>value</code> - item to add.</dd></dl>
</li>
</ul>
<a name="addForce(java.lang.String, org.archive.crawler.datamodel.CandidateURI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addForce</h4>
<pre>public&nbsp;void&nbsp;addForce(java.lang.String&nbsp;key,
            <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#addForce(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">UriUniqFilter</a></code></strong></div>
<div class="block">Add given uri, all the way through to underlying destination, even 
 if already present.
 
 (Sometimes a URI must be fetched, or refetched, for example when
 DNS or robots info expires or the operator forces a refetch. A
 normal add() or addNow() would drop the URI without forwarding
 on once it is determmined to already be in the filter.)</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#addForce(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">addForce</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>key</code> - Usually a canonicalized version of <code>uri</code>.
 This is the key used doing lookups, forgets and insertions on the
 already included list.</dd><dd><code>value</code> - item to add.</dd></dl>
</li>
</ul>
<a name="note(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>note</h4>
<pre>public&nbsp;void&nbsp;note(java.lang.String&nbsp;key)</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#note(java.lang.String)">UriUniqFilter</a></code></strong></div>
<div class="block">Note item as seen, without passing through to receiver.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#note(java.lang.String)">note</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>key</code> - Usually a canonicalized version of an <code>URI</code>.
 This is the key used doing lookups, forgets and insertions on the
 already included list.</dd></dl>
</li>
</ul>
<a name="forget(java.lang.String, org.archive.crawler.datamodel.CandidateURI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forget</h4>
<pre>public&nbsp;void&nbsp;forget(java.lang.String&nbsp;key,
          <a href="../../../../org/archive/crawler/datamodel/CandidateURI.html" title="org.archive.crawler.datamodel中的类">CandidateURI</a>&nbsp;value)</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#forget(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">UriUniqFilter</a></code></strong></div>
<div class="block">Forget item was seen</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#forget(java.lang.String,%20org.archive.crawler.datamodel.CandidateURI)">forget</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>key</code> - Usually a canonicalized version of an <code>URI</code>.
 This is the key used doing lookups, forgets and insertions on the
 already included list.</dd><dd><code>value</code> - item to add.</dd></dl>
</li>
</ul>
<a name="requestFlush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestFlush</h4>
<pre>public&nbsp;long&nbsp;requestFlush()</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#requestFlush()">UriUniqFilter</a></code></strong></div>
<div class="block">Request that any pending items be added/dropped. Implementors
 may ignore the request if a flush would be too expensive/too 
 soon.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#requestFlush()">requestFlush</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
<dt><span class="strong">返回:</span></dt><dd>Number added.</dd></dl>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;long&nbsp;flush()</pre>
<div class="block">Perform a merge of all 'pending' items to the overall fingerprint list. 
 If the pending item is new, and has an associated CandidateURI, pass that
 URI along to the 'receiver' (frontier) for queueing.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>number of pending items actually added</dd></dl>
</li>
</ul>
<a name="beginFpMerge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginFpMerge</h4>
<pre>protected abstract&nbsp;it.unimi.dsi.fastutil.longs.LongIterator&nbsp;beginFpMerge()</pre>
<div class="block">Begin merging pending candidates with complete list. Return an
 Iterator which will return all previously-known FPs in turn.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>Iterator over all previously-known FPs</dd></dl>
</li>
</ul>
<a name="addNewFp(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNewFp</h4>
<pre>protected abstract&nbsp;void&nbsp;addNewFp(long&nbsp;fp)</pre>
<div class="block">Add an FP (which may be an old or new FP) to the new complete
 list. Should only be called after beginFpMerge() and before
 finishFpMerge().</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>fp</code> - the FP to add</dd></dl>
</li>
</ul>
<a name="finishFpMerge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishFpMerge</h4>
<pre>protected abstract&nbsp;void&nbsp;finishFpMerge()</pre>
<div class="block">Complete the merge of candidate and previously-known FPs (closing
 files/iterators as appropriate).</div>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#close()">UriUniqFilter</a></code></strong></div>
<div class="block">Close down any allocated resources.
 Makes sense calling this when checkpointing.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#close()">close</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
</dl>
</li>
</ul>
<a name="setProfileLog(java.io.File)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setProfileLog</h4>
<pre>public&nbsp;void&nbsp;setProfileLog(java.io.File&nbsp;logfile)</pre>
<div class="block"><strong>从接口复制的说明:&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#setProfileLog(java.io.File)">UriUniqFilter</a></code></strong></div>
<div class="block">Set a File to receive a log for replay profiling.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html#setProfileLog(java.io.File)">setProfileLog</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/UriUniqFilter.html" title="org.archive.crawler.datamodel中的接口">UriUniqFilter</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/archive/crawler/util/DiskFPMergeUriUniqFilter.DataFileLongIterator.html" title="org.archive.crawler.util中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../org/archive/crawler/util/FPMergeUriUniqFilter.PendingItem.html" title="org.archive.crawler.util中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/archive/crawler/util/FPMergeUriUniqFilter.html" target="_top">框架</a></li>
<li><a href="FPMergeUriUniqFilter.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested_class_summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
