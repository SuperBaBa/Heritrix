<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Oct 23 23:57:28 CST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>AdaptiveRevisitHostQueue</title>
<meta name="date" content="2016-10-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AdaptiveRevisitHostQueue";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitFrontier.html" title="org.archive.crawler.frontier中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueueTest.html" title="org.archive.crawler.frontier中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html" target="_top">框架</a></li>
<li><a href="AdaptiveRevisitHostQueue.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.archive.crawler.frontier</div>
<h2 title="类 AdaptiveRevisitHostQueue" class="title">类 AdaptiveRevisitHostQueue</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.archive.crawler.frontier.AdaptiveRevisitHostQueue</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html" title="org.archive.crawler.datamodel中的接口">CoreAttributeConstants</a>, <a href="../../../../org/archive/crawler/datamodel/CrawlSubstats.HasCrawlSubstats.html" title="org.archive.crawler.datamodel中的接口">CrawlSubstats.HasCrawlSubstats</a>, <a href="../../../../org/archive/crawler/framework/Frontier.FrontierGroup.html" title="org.archive.crawler.framework中的接口">Frontier.FrontierGroup</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html" title="org.archive.crawler.frontier中的接口">AdaptiveRevisitAttributeConstants</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">AdaptiveRevisitHostQueue</span>
extends java.lang.Object
implements <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html" title="org.archive.crawler.frontier中的接口">AdaptiveRevisitAttributeConstants</a>, <a href="../../../../org/archive/crawler/framework/Frontier.FrontierGroup.html" title="org.archive.crawler.framework中的接口">Frontier.FrontierGroup</a></pre>
<div class="block">A priority based queue of CrawlURIs. Each queue should represent
 one host (although this is not enforced in this class). Items are ordered
 by the scheduling directive and time of next processing (in that order) 
 and also indexed by the URI.
 <p>
 The HQ does no calculations on the 'time of next processing.' It always 
 relies on values already set on the CrawlURI.
 <p>
 Note: Class is not 'thread safe.' In multi threaded environment the caller
 must ensure that two threads do not make overlapping calls.
 <p>
 Any BDB DatabaseException will be converted to an IOException by public 
 methods. This includes preserving the original stacktrace, in favor of the
 one created for the IOException, so that the true source of the exception
 is not lost.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.sleepycat.bind.serial.StoredClassCatalog</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#classCatalog">classCatalog</a></strong></code>
<div class="block">For BDB serialization of objects</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.sleepycat.bind.EntryBinding</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#crawlURIBinding">crawlURIBinding</a></strong></code>
<div class="block">A binding for the CrawlURIARWrapper object</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_BUSY">HQSTATE_BUSY</a></strong></code>
<div class="block">HQ has maximum number of CrawlURI currently being processed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_EMPTY">HQSTATE_EMPTY</a></strong></code>
<div class="block">HQ contains no queued CrawlURIs elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_READY">HQSTATE_READY</a></strong></code>
<div class="block">HQ has a CrawlURI ready for processing</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_SNOOZED">HQSTATE_SNOOZED</a></strong></code>
<div class="block">HQ is in a suspended state until it can be woken back up</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.sleepycat.bind.EntryBinding</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#primaryKeyBinding">primaryKeyBinding</a></strong></code>
<div class="block">A binding for the serialization of the primary key (URI string)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.sleepycat.je.Database</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#primaryUriDB">primaryUriDB</a></strong></code>
<div class="block">Database containing the URI priority queue, indexed by the the 
 URI string.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.sleepycat.je.Database</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#processingUriDB">processingUriDB</a></strong></code>
<div class="block">A database containing those URIs that are currently being processed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.sleepycat.je.SecondaryDatabase</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#secondaryUriDB">secondaryUriDB</a></strong></code>
<div class="block">Secondary index into <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#primaryUriDB"><code>the primary DB</code></a>, URIs indexed
  by the time when they can next be processed again.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/archive/crawler/datamodel/CrawlSubstats.html" title="org.archive.crawler.datamodel中的类">CrawlSubstats</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#substats">substats</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.archive.crawler.frontier.AdaptiveRevisitAttributeConstants">
<!--   -->
</a>
<h3>从接口继承的字段&nbsp;org.archive.crawler.frontier.<a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html" title="org.archive.crawler.frontier中的接口">AdaptiveRevisitAttributeConstants</a></h3>
<code><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_CONTENT_STATE_KEY">A_CONTENT_STATE_KEY</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_DISCARD_REVISIT">A_DISCARD_REVISIT</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_FETCH_OVERDUE">A_FETCH_OVERDUE</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_LAST_CONTENT_DIGEST">A_LAST_CONTENT_DIGEST</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_LAST_DATESTAMP">A_LAST_DATESTAMP</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_LAST_ETAG">A_LAST_ETAG</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_NUMBER_OF_VERSIONS">A_NUMBER_OF_VERSIONS</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_NUMBER_OF_VISITS">A_NUMBER_OF_VISITS</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_TIME_OF_NEXT_PROCESSING">A_TIME_OF_NEXT_PROCESSING</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_WAIT_INTERVAL">A_WAIT_INTERVAL</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#A_WAIT_REEVALUATED">A_WAIT_REEVALUATED</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#CONTENT_CHANGED">CONTENT_CHANGED</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#CONTENT_UNCHANGED">CONTENT_UNCHANGED</a>, <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitAttributeConstants.html#CONTENT_UNKNOWN">CONTENT_UNKNOWN</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.archive.crawler.datamodel.CoreAttributeConstants">
<!--   -->
</a>
<h3>从接口继承的字段&nbsp;org.archive.crawler.datamodel.<a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html" title="org.archive.crawler.datamodel中的接口">CoreAttributeConstants</a></h3>
<code><a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_ANNOTATIONS">A_ANNOTATIONS</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_CONTENT_DIGEST">A_CONTENT_DIGEST</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_CONTENT_TYPE">A_CONTENT_TYPE</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_CREDENTIAL_AVATARS_KEY">A_CREDENTIAL_AVATARS_KEY</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_DELAY_FACTOR">A_DELAY_FACTOR</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_DISTANCE_FROM_SEED">A_DISTANCE_FROM_SEED</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_DNS_FETCH_TIME">A_DNS_FETCH_TIME</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_DNS_SERVER_IP_LABEL">A_DNS_SERVER_IP_LABEL</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_ETAG_HEADER">A_ETAG_HEADER</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_FETCH_BEGAN_TIME">A_FETCH_BEGAN_TIME</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_FETCH_COMPLETED_TIME">A_FETCH_COMPLETED_TIME</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_FETCH_HISTORY">A_FETCH_HISTORY</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_FORCE_RETIRE">A_FORCE_RETIRE</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_FTP_CONTROL_CONVERSATION">A_FTP_CONTROL_CONVERSATION</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_FTP_FETCH_STATUS">A_FTP_FETCH_STATUS</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_HERITABLE_KEYS">A_HERITABLE_KEYS</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_HTML_BASE">A_HTML_BASE</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_HTTP_BIND_ADDRESS">A_HTTP_BIND_ADDRESS</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_HTTP_PROXY_HOST">A_HTTP_PROXY_HOST</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_HTTP_PROXY_PORT">A_HTTP_PROXY_PORT</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_HTTP_TRANSACTION">A_HTTP_TRANSACTION</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_LAST_MODIFIED_HEADER">A_LAST_MODIFIED_HEADER</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_LOCALIZED_ERRORS">A_LOCALIZED_ERRORS</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_META_ROBOTS">A_META_ROBOTS</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_MINIMUM_DELAY">A_MINIMUM_DELAY</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_MIRROR_PATH">A_MIRROR_PATH</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_PREREQUISITE_URI">A_PREREQUISITE_URI</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_REFERENCE_LENGTH">A_REFERENCE_LENGTH</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_RETRY_DELAY">A_RETRY_DELAY</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_RRECORD_SET_LABEL">A_RRECORD_SET_LABEL</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_RUNTIME_EXCEPTION">A_RUNTIME_EXCEPTION</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_SOURCE_TAG">A_SOURCE_TAG</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#A_STATUS">A_STATUS</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#HEADER_TRUNC">HEADER_TRUNC</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#LENGTH_TRUNC">LENGTH_TRUNC</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#TIMER_TRUNC">TIMER_TRUNC</a>, <a href="../../../../org/archive/crawler/datamodel/CoreAttributeConstants.html#TRUNC_SUFFIX">TRUNC_SUFFIX</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#AdaptiveRevisitHostQueue(java.lang.String,%20com.sleepycat.je.Environment,%20com.sleepycat.bind.serial.StoredClassCatalog,%20int)">AdaptiveRevisitHostQueue</a></strong>(java.lang.String&nbsp;hostName,
                        com.sleepycat.je.Environment&nbsp;env,
                        com.sleepycat.bind.serial.StoredClassCatalog&nbsp;catalog,
                        int&nbsp;valence)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#add(org.archive.crawler.datamodel.CrawlURI,%20boolean)">add</a></strong>(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi,
   boolean&nbsp;overrideSetTimeOnDups)</code>
<div class="block">Add a CrawlURI to this host queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#addInProcessing(org.archive.crawler.datamodel.CrawlURI)">addInProcessing</a></strong>(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi)</code>
<div class="block">Adds a CrawlURI to the list of CrawlURIs belonging to this HQ and are
 being processed at the moment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#close()">close</a></strong>()</code>
<div class="block">Cleanup all open Berkeley Database objects.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#countCrawlURIs()">countCrawlURIs</a></strong>()</code>
<div class="block">Count all entries in both primaryUriDB and processingUriDB.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#deleteInProcessing(java.lang.String)">deleteInProcessing</a></strong>(java.lang.String&nbsp;uri)</code>
<div class="block">Removes a URI from the list of URIs belonging to this HQ and are 
 currently being processed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#flushProcessingURIs()">flushProcessingURIs</a></strong>()</code>
<div class="block">Flush any CrawlURIs in the processingUriDB into the primaryUriDB.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getCrawlURI(java.lang.String)">getCrawlURI</a></strong>(java.lang.String&nbsp;uri)</code>
<div class="block">Returns the CrawlURI associated with the specified URI (string) or null
 if no such CrawlURI is queued in this HQ.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getHostName()">getHostName</a></strong>()</code>
<div class="block">Returns the HQ's name</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getNextReadyTime()">getNextReadyTime</a></strong>()</code>
<div class="block">Returns the time when the HQ will next be ready to issue a URI.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getSize()">getSize</a></strong>()</code>
<div class="block">Returns the size of the HQ.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getState()">getState</a></strong>()</code>
<div class="block">Returns the current state of the HQ.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getStateByName()">getStateByName</a></strong>()</code>
<div class="block">Same as <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getState()"><code>getState()</code></a> except this method returns a 
 human readable name for the state instead of its constant integer value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/archive/crawler/datamodel/CrawlSubstats.html" title="org.archive.crawler.datamodel中的类">CrawlSubstats</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getSubstats()">getSubstats</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#inProcessing(java.lang.String)">inProcessing</a></strong>(java.lang.String&nbsp;uri)</code>
<div class="block">Returns true if this HQ has a CrawlURI matching the uri string currently
 being processed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#next()">next</a></strong>()</code>
<div class="block">Returns the 'top' URI in the AdaptiveRevisitHostQueue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#peek()">peek</a></strong>()</code>
<div class="block">Returns the URI with the earliest time of next processing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#reorder()">reorder</a></strong>()</code>
<div class="block">Method is called whenever something has been done that might have
 changed the value of the 'published' time of next ready.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#report(int)">report</a></strong>(int&nbsp;max)</code>
<div class="block">Returns a report detailing the status of this HQ.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#setNextReadyTime(long)">setNextReadyTime</a></strong>(long&nbsp;newTime)</code>
<div class="block">Updates nextReadyTime (if smaller) with the supplied value</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#setOwner(org.archive.crawler.frontier.AdaptiveRevisitQueueList)">setOwner</a></strong>(<a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitQueueList.html" title="org.archive.crawler.frontier中的类">AdaptiveRevisitQueueList</a>&nbsp;owner)</code>
<div class="block">Set the AdaptiveRevisitQueueList object that contains this HQ.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.sleepycat.je.OperationStatus</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#strictAdd(org.archive.crawler.datamodel.CrawlURI,%20boolean)">strictAdd</a></strong>(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi,
         boolean&nbsp;overrideDuplicates)</code>
<div class="block">An internal method for adding URIs to the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#update(org.archive.crawler.datamodel.CrawlURI,%20boolean,%20long)">update</a></strong>(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi,
      boolean&nbsp;needWait,
      long&nbsp;wakeupTime)</code>
<div class="block">Update CrawlURI that has completed processing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#update(org.archive.crawler.datamodel.CrawlURI,%20boolean,%20long,%20boolean)">update</a></strong>(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi,
      boolean&nbsp;needWait,
      long&nbsp;wakeupTime,
      boolean&nbsp;forgetURI)</code>
<div class="block">Update CrawlURI that has completed processing.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="HQSTATE_EMPTY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HQSTATE_EMPTY</h4>
<pre>public static final&nbsp;int HQSTATE_EMPTY</pre>
<div class="block">HQ contains no queued CrawlURIs elements. This state only occurs after 
  queue creation before the first add. After the first item is added the 
  state can never become empty again.</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#org.archive.crawler.frontier.AdaptiveRevisitHostQueue.HQSTATE_EMPTY">常量字段值</a></dd></dl>
</li>
</ul>
<a name="HQSTATE_READY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HQSTATE_READY</h4>
<pre>public static final&nbsp;int HQSTATE_READY</pre>
<div class="block">HQ has a CrawlURI ready for processing</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#org.archive.crawler.frontier.AdaptiveRevisitHostQueue.HQSTATE_READY">常量字段值</a></dd></dl>
</li>
</ul>
<a name="HQSTATE_BUSY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HQSTATE_BUSY</h4>
<pre>public static final&nbsp;int HQSTATE_BUSY</pre>
<div class="block">HQ has maximum number of CrawlURI currently being processed. This number
  is either equal to the 'valence' (maximum number of simultanious 
  connections to a host) or (if smaller) the total number of CrawlURIs 
  in the HQ.</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#org.archive.crawler.frontier.AdaptiveRevisitHostQueue.HQSTATE_BUSY">常量字段值</a></dd></dl>
</li>
</ul>
<a name="HQSTATE_SNOOZED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HQSTATE_SNOOZED</h4>
<pre>public static final&nbsp;int HQSTATE_SNOOZED</pre>
<div class="block">HQ is in a suspended state until it can be woken back up</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#org.archive.crawler.frontier.AdaptiveRevisitHostQueue.HQSTATE_SNOOZED">常量字段值</a></dd></dl>
</li>
</ul>
<a name="substats">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>substats</h4>
<pre>protected&nbsp;<a href="../../../../org/archive/crawler/datamodel/CrawlSubstats.html" title="org.archive.crawler.datamodel中的类">CrawlSubstats</a> substats</pre>
</li>
</ul>
<a name="primaryUriDB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>primaryUriDB</h4>
<pre>protected&nbsp;com.sleepycat.je.Database primaryUriDB</pre>
<div class="block">Database containing the URI priority queue, indexed by the the 
 URI string.</div>
</li>
</ul>
<a name="secondaryUriDB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>secondaryUriDB</h4>
<pre>protected&nbsp;com.sleepycat.je.SecondaryDatabase secondaryUriDB</pre>
<div class="block">Secondary index into <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#primaryUriDB"><code>the primary DB</code></a>, URIs indexed
  by the time when they can next be processed again.</div>
</li>
</ul>
<a name="processingUriDB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processingUriDB</h4>
<pre>protected&nbsp;com.sleepycat.je.Database processingUriDB</pre>
<div class="block">A database containing those URIs that are currently being processed.</div>
</li>
</ul>
<a name="classCatalog">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>classCatalog</h4>
<pre>protected&nbsp;com.sleepycat.bind.serial.StoredClassCatalog classCatalog</pre>
<div class="block">For BDB serialization of objects</div>
</li>
</ul>
<a name="primaryKeyBinding">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>primaryKeyBinding</h4>
<pre>protected&nbsp;com.sleepycat.bind.EntryBinding primaryKeyBinding</pre>
<div class="block">A binding for the serialization of the primary key (URI string)</div>
</li>
</ul>
<a name="crawlURIBinding">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>crawlURIBinding</h4>
<pre>protected&nbsp;com.sleepycat.bind.EntryBinding crawlURIBinding</pre>
<div class="block">A binding for the CrawlURIARWrapper object</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="AdaptiveRevisitHostQueue(java.lang.String, com.sleepycat.je.Environment, com.sleepycat.bind.serial.StoredClassCatalog, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AdaptiveRevisitHostQueue</h4>
<pre>public&nbsp;AdaptiveRevisitHostQueue(java.lang.String&nbsp;hostName,
                        com.sleepycat.je.Environment&nbsp;env,
                        com.sleepycat.bind.serial.StoredClassCatalog&nbsp;catalog,
                        int&nbsp;valence)
                         throws java.io.IOException</pre>
<div class="block">Constructor</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>hostName</code> - Name of the host this queue represents. This name must
                 be unique for all HQs in the same Environment.</dd><dd><code>env</code> - Berkeley DB Environment. All BDB databases created will use 
            it.</dd><dd><code>catalog</code> - Db for bdb class serialization.</dd><dd><code>valence</code> - The total number of simultanous URIs that the HQ can issue
                for processing. Once this many URIs have been issued for
                processing, the HQ will go into <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_BUSY"><code>busy</code></a>
                state until at least one of the URI is 
                <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#update(org.archive.crawler.datamodel.CrawlURI,%20boolean,%20long)"><code>updated</code></a>.
                Value should be larger then zero. Zero and negative values
                will be treated same as 1.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code> - if an error occurs opening/creating the 
         database</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getHostName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHostName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getHostName()</pre>
<div class="block">Returns the HQ's name</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the HQ's name</dd></dl>
</li>
</ul>
<a name="add(org.archive.crawler.datamodel.CrawlURI, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi,
       boolean&nbsp;overrideSetTimeOnDups)
         throws java.io.IOException</pre>
<div class="block">Add a CrawlURI to this host queue.
 <p>
 Calls can optionally chose to have the time of next processing value 
 override existing values for the URI if the existing values are 'later'
 then the new ones.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>curi</code> - The CrawlURI to add.</dd><dd><code>overrideSetTimeOnDups</code> - If true then the time of next processing for
                           the supplied URI will override the any
                           existing time for it already stored in the HQ.
                           If false, then no changes will be made to any
                           existing values of the URI. Note: Will never
                           override with a later time.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code> - When an error occurs accessing the database</dd></dl>
</li>
</ul>
<a name="strictAdd(org.archive.crawler.datamodel.CrawlURI, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>strictAdd</h4>
<pre>protected&nbsp;com.sleepycat.je.OperationStatus&nbsp;strictAdd(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi,
                                         boolean&nbsp;overrideDuplicates)
                                              throws com.sleepycat.je.DatabaseException</pre>
<div class="block">An internal method for adding URIs to the queue.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>curi</code> - The CrawlURI to add</dd><dd><code>overrideDuplicates</code> - If true then any existing CrawlURI in the DB
                           will be overwritten. If false insert into the
                           queue is only performed if the key doesn't 
                           already exist.</dd>
<dt><span class="strong">返回:</span></dt><dd>The OperationStatus object returned by the put method.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code></dd></dl>
</li>
</ul>
<a name="flushProcessingURIs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushProcessingURIs</h4>
<pre>protected&nbsp;void&nbsp;flushProcessingURIs()
                            throws com.sleepycat.je.DatabaseException</pre>
<div class="block">Flush any CrawlURIs in the processingUriDB into the primaryUriDB. URIs
 flushed will have their 'time of next fetch' maintained and the 
 nextReadyTime will be updated if needed.
 <p>
 No change is made to the list of available slots.</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code> - if one occurs while flushing</dd></dl>
</li>
</ul>
<a name="countCrawlURIs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countCrawlURIs</h4>
<pre>protected&nbsp;long&nbsp;countCrawlURIs()
                       throws com.sleepycat.je.DatabaseException</pre>
<div class="block">Count all entries in both primaryUriDB and processingUriDB.
 <p>
 This method is needed since BDB does not provide a simple way of counting
 entries.
 <p>
 Note: This is an expensive operation, requires a loop through the entire
 queue!</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the number of distinct CrawlURIs in the HQ.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code></dd></dl>
</li>
</ul>
<a name="inProcessing(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inProcessing</h4>
<pre>protected&nbsp;boolean&nbsp;inProcessing(java.lang.String&nbsp;uri)
                        throws com.sleepycat.je.DatabaseException</pre>
<div class="block">Returns true if this HQ has a CrawlURI matching the uri string currently
 being processed. False otherwise.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>uri</code> - Uri to check</dd>
<dt><span class="strong">返回:</span></dt><dd>true if this HQ has a CrawlURI matching the uri string currently
 being processed. False otherwise.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code></dd></dl>
</li>
</ul>
<a name="deleteInProcessing(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteInProcessing</h4>
<pre>protected&nbsp;void&nbsp;deleteInProcessing(java.lang.String&nbsp;uri)
                           throws com.sleepycat.je.DatabaseException</pre>
<div class="block">Removes a URI from the list of URIs belonging to this HQ and are 
 currently being processed.
 <p>
 Returns true if successful, false if the URI was not found.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>uri</code> - The URI string of the CrawlURI to delete.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code></dd>
<dd><code>java.lang.IllegalStateException</code> - if the URI was not on the list</dd></dl>
</li>
</ul>
<a name="addInProcessing(org.archive.crawler.datamodel.CrawlURI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addInProcessing</h4>
<pre>protected&nbsp;void&nbsp;addInProcessing(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi)
                        throws com.sleepycat.je.DatabaseException,
                               java.lang.IllegalStateException</pre>
<div class="block">Adds a CrawlURI to the list of CrawlURIs belonging to this HQ and are
 being processed at the moment.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>curi</code> - The CrawlURI to add to the list</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code></dd>
<dd><code>java.lang.IllegalStateException</code> - if the CrawlURI is already in the list of URIs being
             processed.</dd></dl>
</li>
</ul>
<a name="getCrawlURI(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCrawlURI</h4>
<pre>protected&nbsp;<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;getCrawlURI(java.lang.String&nbsp;uri)
                        throws com.sleepycat.je.DatabaseException</pre>
<div class="block">Returns the CrawlURI associated with the specified URI (string) or null
 if no such CrawlURI is queued in this HQ. If CrawlURI is being processed
 it is not considered to be <i>queued </i> and this method will return
 null for any such URIs.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>uri</code> - A string representing the URI</dd>
<dt><span class="strong">返回:</span></dt><dd>the CrawlURI associated with the specified URI (string) or null
         if no such CrawlURI is queued in this HQ.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code> - if a errors occurs reading the database</dd></dl>
</li>
</ul>
<a name="update(org.archive.crawler.datamodel.CrawlURI, boolean, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi,
          boolean&nbsp;needWait,
          long&nbsp;wakeupTime)
            throws java.lang.IllegalStateException,
                   java.io.IOException</pre>
<div class="block">Update CrawlURI that has completed processing.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>curi</code> - The CrawlURI. This must be a CrawlURI issued by this HQ's 
             <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#next()"><code>next()</code></a> method.</dd><dd><code>needWait</code> - If true then the URI was processed successfully, 
                 requiring a period of suspended action on that host. If
                 valence is > 1 then seperate times are maintained for 
                 each slot.</dd><dd><code>wakeupTime</code> - If new state is 
                   <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_SNOOZED"><code>snoozed</code></a>
                   then this parameter should contain the time (in 
                   milliseconds) when it will be safe to wake the HQ up
                   again. Otherwise this parameter will be ignored.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the CrawlURI
         does not match a CrawlURI issued for crawling by this HQ's
         <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#next()"><code>next()</code></a>.</dd>
<dd><code>java.io.IOException</code> - if an error occurs accessing the database</dd></dl>
</li>
</ul>
<a name="update(org.archive.crawler.datamodel.CrawlURI, boolean, long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;curi,
          boolean&nbsp;needWait,
          long&nbsp;wakeupTime,
          boolean&nbsp;forgetURI)
            throws java.lang.IllegalStateException,
                   java.io.IOException</pre>
<div class="block">Update CrawlURI that has completed processing.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>curi</code> - The CrawlURI. This must be a CrawlURI issued by this HQ's 
             <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#next()"><code>next()</code></a> method.</dd><dd><code>needWait</code> - If true then the URI was processed successfully, 
                 requiring a period of suspended action on that host. If
                 valence is > 1 then seperate times are maintained for 
                 each slot.</dd><dd><code>wakeupTime</code> - If new state is 
                   <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_SNOOZED"><code>snoozed</code></a>
                   then this parameter should contain the time (in 
                   milliseconds) when it will be safe to wake the HQ up
                   again. Otherwise this parameter will be ignored.</dd><dd><code>forgetURI</code> - If true, the URI will be deleted from the queue.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the CrawlURI
         does not match a CrawlURI issued for crawling by this HQ's
         <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#next()"><code>next()</code></a>.</dd>
<dd><code>java.io.IOException</code> - if an error occurs accessing the database</dd></dl>
</li>
</ul>
<a name="next()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>public&nbsp;<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;next()
              throws java.lang.IllegalStateException,
                     java.io.IOException</pre>
<div class="block">Returns the 'top' URI in the AdaptiveRevisitHostQueue. 
 <p>
 HQ state will be set to <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_BUSY"><code>busy</code></a> if this 
 method returns normally.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>a CrawlURI ready for processing</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the HostQueues current state is not
         ready <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_READY"><code>ready</code></a></dd>
<dd><code>java.io.IOException</code> - if an error occurs reading from the database</dd></dl>
</li>
</ul>
<a name="peek()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peek</h4>
<pre>public&nbsp;<a href="../../../../org/archive/crawler/datamodel/CrawlURI.html" title="org.archive.crawler.datamodel中的类">CrawlURI</a>&nbsp;peek()
              throws java.lang.IllegalStateException,
                     java.io.IOException</pre>
<div class="block">Returns the URI with the earliest time of next processing. I.e. the URI
 at the head of this host based priority queue.
 <p>
 Note: This method will return the head CrawlURI regardless of wether it 
 is safe to start processing it or not. CrawlURI will remain in the queue.
 The returned CrawlURI should only be used for queue inspection, it can 
 <i>not</i> be updated and returned to the queue. To get URIs ready for
 processing use <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#next()"><code>next()</code></a>.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the URI with the earliest time of next processing or null if 
         the queue is empty or all URIs are currently being processed.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code></dd>
<dd><code>java.io.IOException</code> - if an error occurs reading from the database</dd></dl>
</li>
</ul>
<a name="getState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;int&nbsp;getState()</pre>
<div class="block">Returns the current state of the HQ.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the current state of the HQ.</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_BUSY"><code>HQSTATE_BUSY</code></a>, 
<a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_EMPTY"><code>HQSTATE_EMPTY</code></a>, 
<a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_READY"><code>HQSTATE_READY</code></a>, 
<a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_SNOOZED"><code>HQSTATE_SNOOZED</code></a></dd></dl>
</li>
</ul>
<a name="getNextReadyTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextReadyTime</h4>
<pre>public&nbsp;long&nbsp;getNextReadyTime()</pre>
<div class="block">Returns the time when the HQ will next be ready to issue a URI. 
 <p>
 If the queue is in a <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_SNOOZED"><code>snoozed</code></a> state then this 
 time will be in the future and reflects either the time when the HQ will
 again be able to issue URIs for processing because politness constraints
 have ended, or when a URI next becomes available for visit, whichever is
 larger.
 <p>
 If the queue is in a <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#HQSTATE_READY"><code>ready</code></a> state this time will
 be in the past and reflect the earliest time when the HQ had a URI ready
 for processing, taking time spent snoozed for politness concerns into
 account. 
 <p>
 If the HQ is in any other state then the return value of this method is
 equal to Long.MAX_VALUE.
 <p>
 This value may change each time a URI is added, issued or updated.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the time when the HQ will next be ready to issue a URI</dd></dl>
</li>
</ul>
<a name="setNextReadyTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNextReadyTime</h4>
<pre>protected&nbsp;void&nbsp;setNextReadyTime(long&nbsp;newTime)</pre>
<div class="block">Updates nextReadyTime (if smaller) with the supplied value</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>newTime</code> - the new value of nextReady Time;</dd></dl>
</li>
</ul>
<a name="reorder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reorder</h4>
<pre>protected&nbsp;void&nbsp;reorder()</pre>
<div class="block">Method is called whenever something has been done that might have
 changed the value of the 'published' time of next ready. If an owner 
 has been specified it will be notified that the value may have changed..</div>
</li>
</ul>
<a name="getStateByName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStateByName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getStateByName()</pre>
<div class="block">Same as <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html#getState()"><code>getState()</code></a> except this method returns a 
 human readable name for the state instead of its constant integer value.
 <p>
 Should only be used for reports, error messages and other strings 
 intended for human eyes.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the human readable name of the current state</dd></dl>
</li>
</ul>
<a name="getSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;long&nbsp;getSize()</pre>
<div class="block">Returns the size of the HQ. That is, the number of URIs queued, 
 including any that are currently being processed.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the size of the HQ.</dd></dl>
</li>
</ul>
<a name="setOwner(org.archive.crawler.frontier.AdaptiveRevisitQueueList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOwner</h4>
<pre>public&nbsp;void&nbsp;setOwner(<a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitQueueList.html" title="org.archive.crawler.frontier中的类">AdaptiveRevisitQueueList</a>&nbsp;owner)</pre>
<div class="block">Set the AdaptiveRevisitQueueList object that contains this HQ. Will cause
 that
 object to be notified (via 
 <a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitQueueList.html#reorder(org.archive.crawler.frontier.AdaptiveRevisitHostQueue)"><code>reorder()</code></a> when the
 value used for sorting the list of HQs changes.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>owner</code> - the ARHostQueueList object that contains this HQ.</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Cleanup all open Berkeley Database objects.
 <p>
 Does <I>not</I> close the Environment.</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code> - if an error occurs closing a database object</dd></dl>
</li>
</ul>
<a name="report(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>report</h4>
<pre>public&nbsp;java.lang.String&nbsp;report(int&nbsp;max)</pre>
<div class="block">Returns a report detailing the status of this HQ.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>max</code> - Maximum number of URIs to show. 0 equals no limit.</dd>
<dt><span class="strong">返回:</span></dt><dd>a report detailing the status of this HQ.</dd></dl>
</li>
</ul>
<a name="getSubstats()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getSubstats</h4>
<pre>public&nbsp;<a href="../../../../org/archive/crawler/datamodel/CrawlSubstats.html" title="org.archive.crawler.datamodel中的类">CrawlSubstats</a>&nbsp;getSubstats()</pre>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/crawler/datamodel/CrawlSubstats.HasCrawlSubstats.html#getSubstats()">getSubstats</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/archive/crawler/datamodel/CrawlSubstats.HasCrawlSubstats.html" title="org.archive.crawler.datamodel中的接口">CrawlSubstats.HasCrawlSubstats</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitFrontier.html" title="org.archive.crawler.frontier中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../org/archive/crawler/frontier/AdaptiveRevisitHostQueueTest.html" title="org.archive.crawler.frontier中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/archive/crawler/frontier/AdaptiveRevisitHostQueue.html" target="_top">框架</a></li>
<li><a href="AdaptiveRevisitHostQueue.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
