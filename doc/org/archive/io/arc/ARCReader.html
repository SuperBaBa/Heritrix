<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Oct 23 23:57:32 CST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ARCReader</title>
<meta name="date" content="2016-10-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ARCReader";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/archive/io/arc/ARCLocation.html" title="org.archive.io.arc中的接口"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../org/archive/io/arc/ARCReaderFactory.html" title="org.archive.io.arc中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/archive/io/arc/ARCReader.html" target="_top">框架</a></li>
<li><a href="ARCReader.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.archive.io.ArchiveReader">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.archive.io.arc</div>
<h2 title="类 ARCReader" class="title">类 ARCReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">org.archive.io.ArchiveReader</a></li>
<li>
<ul class="inheritance">
<li>org.archive.io.arc.ARCReader</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../org/archive/io/arc/ARCConstants.html" title="org.archive.io.arc中的接口">ARCConstants</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html" title="org.archive.io中的接口">ArchiveFileConstants</a></dd>
</dl>
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../../../org/archive/io/arc/ARCReaderFactory.CompressedARCReader.html" title="org.archive.io.arc中的类">ARCReaderFactory.CompressedARCReader</a>, <a href="../../../../org/archive/io/arc/ARCReaderFactory.UncompressedARCReader.html" title="org.archive.io.arc中的类">ARCReaderFactory.UncompressedARCReader</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">ARCReader</span>
extends <a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a>
implements <a href="../../../../org/archive/io/arc/ARCConstants.html" title="org.archive.io.arc中的接口">ARCConstants</a></pre>
<div class="block">Get an iterator on an ARC file or get a record by absolute position.

 ARC files are described here:
 <a href="http://www.archive.org/web/researcher/ArcFileFormat.php">Arc
 File Format</a>.

 <p>This class knows how to parse an ARC file.  Pass it a file path
 or an URL to an ARC. It can parse ARC Version 1 and 2.

 <p>Iterator returns <code>ARCRecord</code>
 though <code>Iterator.next()</code> is returning
 java.lang.Object.  Cast the return.

 <p>Profiling java.io vs. memory-mapped ByteBufferInputStream shows the
 latter slightly slower -- but not by much.  TODO: Test more.  Just
 change <a href="../../../../org/archive/io/ArchiveReader.html#getInputStream(java.io.File,%20long)"><code>ArchiveReader.getInputStream(File, long)</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.archive.io.ArchiveReader">
<!--   -->
</a>
<h3>从类继承的嵌套类/接口&nbsp;org.archive.io.<a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></h3>
<code><a href="../../../../org/archive/io/ArchiveReader.ArchiveRecordIterator.html" title="org.archive.io中的类">ArchiveReader.ArchiveRecordIterator</a>, <a href="../../../../org/archive/io/ArchiveReader.RandomAccessBufferedInputStream.html" title="org.archive.io中的类">ArchiveReader.RandomAccessBufferedInputStream</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#HEADER_FIELD_NAME_KEYS">HEADER_FIELD_NAME_KEYS</a></strong></code>
<div class="block">An array of the header field names found in the ARC file header on
 the 3rd line.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.archive.io.ArchiveReader">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;org.archive.io.<a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></h3>
<code><a href="../../../../org/archive/io/ArchiveReader.html#MAX_ALLOWED_RECOVERABLES">MAX_ALLOWED_RECOVERABLES</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.archive.io.arc.ARCConstants">
<!--   -->
</a>
<h3>从接口继承的字段&nbsp;org.archive.io.arc.<a href="../../../../org/archive/io/arc/ARCConstants.html" title="org.archive.io.arc中的接口">ARCConstants</a></h3>
<code><a href="../../../../org/archive/io/arc/ARCConstants.html#ARC_FILE_EXTENSION">ARC_FILE_EXTENSION</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#ARC_GZIP_EXTRA_FIELD">ARC_GZIP_EXTRA_FIELD</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#ARC_MAGIC_NUMBER">ARC_MAGIC_NUMBER</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#CHECKSUM_FIELD_KEY">CHECKSUM_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#CHECKSUM_HEADER_FIELD_KEY">CHECKSUM_HEADER_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#CODE_HEADER_FIELD_KEY">CODE_HEADER_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#COMPRESSED_ARC_FILE_EXTENSION">COMPRESSED_ARC_FILE_EXTENSION</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#DEFAULT_ENCODING">DEFAULT_ENCODING</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#DEFAULT_GZIP_HEADER_LENGTH">DEFAULT_GZIP_HEADER_LENGTH</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#DEFAULT_MAX_ARC_FILE_SIZE">DEFAULT_MAX_ARC_FILE_SIZE</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#DOT_ARC_FILE_EXTENSION">DOT_ARC_FILE_EXTENSION</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#DOT_COMPRESSED_ARC_FILE_EXTENSION">DOT_COMPRESSED_ARC_FILE_EXTENSION</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#DOT_COMPRESSED_FILE_EXTENSION">DOT_COMPRESSED_FILE_EXTENSION</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#FILENAME_FIELD_KEY">FILENAME_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#FILENAME_HEADER_FIELD_KEY">FILENAME_HEADER_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#GZIP_HEADER_BEGIN">GZIP_HEADER_BEGIN</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#HEADER_FIELD_SEPARATOR">HEADER_FIELD_SEPARATOR</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#IP_HEADER_FIELD_KEY">IP_HEADER_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#LINE_SEPARATOR">LINE_SEPARATOR</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#LOCATION_HEADER_FIELD_KEY">LOCATION_HEADER_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#MAX_METADATA_LINE_LENGTH">MAX_METADATA_LINE_LENGTH</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#MINIMUM_RECORD_LENGTH">MINIMUM_RECORD_LENGTH</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#OFFSET_FIELD_KEY">OFFSET_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#OFFSET_HEADER_FIELD_KEY">OFFSET_HEADER_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#REQUIRED_VERSION_1_HEADER_FIELDS">REQUIRED_VERSION_1_HEADER_FIELDS</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#STATUSCODE_FIELD_KEY">STATUSCODE_FIELD_KEY</a>, <a href="../../../../org/archive/io/arc/ARCConstants.html#TOKENIZED_PREFIX">TOKENIZED_PREFIX</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.archive.io.ArchiveFileConstants">
<!--   -->
</a>
<h3>从接口继承的字段&nbsp;org.archive.io.<a href="../../../../org/archive/io/ArchiveFileConstants.html" title="org.archive.io中的接口">ArchiveFileConstants</a></h3>
<code><a href="../../../../org/archive/io/ArchiveFileConstants.html#ABSOLUTE_OFFSET_KEY">ABSOLUTE_OFFSET_KEY</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#CDX">CDX</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#CDX_FILE">CDX_FILE</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#CDX_LINE_BUFFER_SIZE">CDX_LINE_BUFFER_SIZE</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#COMPRESSED_FILE_EXTENSION">COMPRESSED_FILE_EXTENSION</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#CRLF">CRLF</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#DATE_FIELD_KEY">DATE_FIELD_KEY</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#DEFAULT_DIGEST_METHOD">DEFAULT_DIGEST_METHOD</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#DUMP">DUMP</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#GZIP_DUMP">GZIP_DUMP</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#HEADER">HEADER</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#INVALID_SUFFIX">INVALID_SUFFIX</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#LENGTH_FIELD_KEY">LENGTH_FIELD_KEY</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#MIMETYPE_FIELD_KEY">MIMETYPE_FIELD_KEY</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#NOHEAD">NOHEAD</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#OCCUPIED_SUFFIX">OCCUPIED_SUFFIX</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#READER_IDENTIFIER_FIELD_KEY">READER_IDENTIFIER_FIELD_KEY</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#RECORD_IDENTIFIER_FIELD_KEY">RECORD_IDENTIFIER_FIELD_KEY</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#SINGLE_SPACE">SINGLE_SPACE</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#TYPE_FIELD_KEY">TYPE_FIELD_KEY</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#URL_FIELD_KEY">URL_FIELD_KEY</a>, <a href="../../../../org/archive/io/ArchiveFileConstants.html#VERSION_FIELD_KEY">VERSION_FIELD_KEY</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/archive/io/arc/ARCRecord.html" title="org.archive.io.arc中的类">ARCRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#createArchiveRecord(java.io.InputStream,%20long)">createArchiveRecord</a></strong>(java.io.InputStream&nbsp;is,
                   long&nbsp;offset)</code>
<div class="block">Create new arc record.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#createCDXIndexFile(java.lang.String)">createCDXIndexFile</a></strong>(java.lang.String&nbsp;urlOrPath)</code>
<div class="block">Generate a CDX index file for an ARC file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#dump(boolean)">dump</a></strong>(boolean&nbsp;compress)</code>
<div class="block">Dump this file on STDOUT</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#fixSpaceInURL(java.util.List,%20int)">fixSpaceInURL</a></strong>(java.util.List&lt;java.lang.String&gt;&nbsp;values,
             int&nbsp;requiredSize)</code>
<div class="block">Fix space in URLs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/archive/io/arc/ARCReader.html" title="org.archive.io.arc中的类">ARCReader</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#getDeleteFileOnCloseReader(java.io.File)">getDeleteFileOnCloseReader</a></strong>(java.io.File&nbsp;f)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#getDotFileExtension()">getDotFileExtension</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#getFileExtension()">getFileExtension</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#getVersion()">getVersion</a></strong>()</code>
<div class="block">Returns version of this ARC file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#gotoEOR(org.archive.io.ArchiveRecord)">gotoEOR</a></strong>(<a href="../../../../org/archive/io/ArchiveRecord.html" title="org.archive.io中的类">ArchiveRecord</a>&nbsp;record)</code>
<div class="block">Skip over any trailing new lines at end of the record so we're lined up
 ready to read the next.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#isAlignedOnFirstRecord()">isAlignedOnFirstRecord</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#isDate(java.lang.String)">isDate</a></strong>(java.lang.String&nbsp;date)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#isLegitimateIPValue(java.lang.String)">isLegitimateIPValue</a></strong>(java.lang.String&nbsp;ip)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#isNumber(java.lang.String)">isNumber</a></strong>(java.lang.String&nbsp;n)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#isParseHttpHeaders()">isParseHttpHeaders</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>
<div class="block">Command-line interface to ARCReader.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#output(org.archive.io.arc.ARCReader,%20java.lang.String)">output</a></strong>(<a href="../../../../org/archive/io/arc/ARCReader.html" title="org.archive.io.arc中的类">ARCReader</a>&nbsp;reader,
      java.lang.String&nbsp;format)</code>
<div class="block">Write out the arcfile.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#output(java.lang.String)">output</a></strong>(java.lang.String&nbsp;format)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#outputRecord(java.lang.String)">outputRecord</a></strong>(java.lang.String&nbsp;format)</code>
<div class="block">Output passed record using passed format specifier.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#setAlignedOnFirstRecord(boolean)">setAlignedOnFirstRecord</a></strong>(boolean&nbsp;alignedOnFirstRecord)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/archive/io/arc/ARCReader.html#setParseHttpHeaders(boolean)">setParseHttpHeaders</a></strong>(boolean&nbsp;parse)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.archive.io.ArchiveReader">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.archive.io.<a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></h3>
<code><a href="../../../../org/archive/io/ArchiveReader.html#cdxOutput(boolean)">cdxOutput</a>, <a href="../../../../org/archive/io/ArchiveReader.html#cleanupCurrentRecord()">cleanupCurrentRecord</a>, <a href="../../../../org/archive/io/ArchiveReader.html#close()">close</a>, <a href="../../../../org/archive/io/ArchiveReader.html#currentRecord(org.archive.io.ArchiveRecord)">currentRecord</a>, <a href="../../../../org/archive/io/ArchiveReader.html#get()">get</a>, <a href="../../../../org/archive/io/ArchiveReader.html#get(long)">get</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getCurrentRecord()">getCurrentRecord</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getFileName()">getFileName</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getIn()">getIn</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getInputStream()">getInputStream</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getInputStream(java.io.File,%20long)">getInputStream</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getLogger()">getLogger</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getOptions()">getOptions</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getReaderIdentifier()">getReaderIdentifier</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getStrippedFileName()">getStrippedFileName</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getStrippedFileName(java.lang.String,%20java.lang.String)">getStrippedFileName</a>, <a href="../../../../org/archive/io/ArchiveReader.html#getTrueOrFalse(java.lang.String)">getTrueOrFalse</a>, <a href="../../../../org/archive/io/ArchiveReader.html#initialize(java.lang.String)">initialize</a>, <a href="../../../../org/archive/io/ArchiveReader.html#isCompressed()">isCompressed</a>, <a href="../../../../org/archive/io/ArchiveReader.html#isDigest()">isDigest</a>, <a href="../../../../org/archive/io/ArchiveReader.html#isStrict()">isStrict</a>, <a href="../../../../org/archive/io/ArchiveReader.html#isValid()">isValid</a>, <a href="../../../../org/archive/io/ArchiveReader.html#iterator()">iterator</a>, <a href="../../../../org/archive/io/ArchiveReader.html#logStdErr(java.util.logging.Level,%20java.lang.String)">logStdErr</a>, <a href="../../../../org/archive/io/ArchiveReader.html#outputRecord(org.archive.io.ArchiveReader,%20java.lang.String)">outputRecord</a>, <a href="../../../../org/archive/io/ArchiveReader.html#rewind()">rewind</a>, <a href="../../../../org/archive/io/ArchiveReader.html#setCompressed(boolean)">setCompressed</a>, <a href="../../../../org/archive/io/ArchiveReader.html#setDigest(boolean)">setDigest</a>, <a href="../../../../org/archive/io/ArchiveReader.html#setIn(java.io.InputStream)">setIn</a>, <a href="../../../../org/archive/io/ArchiveReader.html#setReaderIdentifier(java.lang.String)">setReaderIdentifier</a>, <a href="../../../../org/archive/io/ArchiveReader.html#setStrict(boolean)">setStrict</a>, <a href="../../../../org/archive/io/ArchiveReader.html#setVersion(java.lang.String)">setVersion</a>, <a href="../../../../org/archive/io/ArchiveReader.html#stripExtension(java.lang.String,%20java.lang.String)">stripExtension</a>, <a href="../../../../org/archive/io/ArchiveReader.html#validate()">validate</a>, <a href="../../../../org/archive/io/ArchiveReader.html#validate(int)">validate</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="HEADER_FIELD_NAME_KEYS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HEADER_FIELD_NAME_KEYS</h4>
<pre>public static final&nbsp;java.lang.String[] HEADER_FIELD_NAME_KEYS</pre>
<div class="block">An array of the header field names found in the ARC file header on
 the 3rd line.
 
 We used to read these in from the arc file first record 3rd line but
 now we hardcode them for sake of improved performance.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="gotoEOR(org.archive.io.ArchiveRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotoEOR</h4>
<pre>protected&nbsp;void&nbsp;gotoEOR(<a href="../../../../org/archive/io/ArchiveRecord.html" title="org.archive.io中的类">ArchiveRecord</a>&nbsp;record)
                throws java.io.IOException</pre>
<div class="block">Skip over any trailing new lines at end of the record so we're lined up
 ready to read the next.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#gotoEOR(org.archive.io.ArchiveRecord)">gotoEOR</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>record</code> - </dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="createArchiveRecord(java.io.InputStream, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createArchiveRecord</h4>
<pre>protected&nbsp;<a href="../../../../org/archive/io/arc/ARCRecord.html" title="org.archive.io.arc中的类">ARCRecord</a>&nbsp;createArchiveRecord(java.io.InputStream&nbsp;is,
                            long&nbsp;offset)
                                 throws java.io.IOException</pre>
<div class="block">Create new arc record.

 Encapsulate housekeeping that has to do w/ creating a new record.

 <p>Call this method at end of constructor to read in the
 arcfile header.  Will be problems reading subsequent arc records
 if you don't since arcfile header has the list of metadata fields for
 all records that follow.
 
 <p>When parsing through ARCs writing out CDX info, we spend about
 38% of CPU in here -- about 30% of which is in getTokenizedHeaderLine
 -- of which 16% is reading.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#createArchiveRecord(java.io.InputStream,%20long)">createArchiveRecord</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>is</code> - InputStream to use.</dd><dd><code>offset</code> - Absolute offset into arc file.</dd>
<dt><span class="strong">返回:</span></dt><dd>An arc record.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public&nbsp;java.lang.String&nbsp;getVersion()</pre>
<div class="block">Returns version of this ARC file.  Usually read from first record of ARC.
 If we're reading without having first read the first record -- e.g.
 random access into middle of an ARC -- then version will not have been
 set.  For now, we return a default, version 1.1.  Later, if more than
 just one version of ARC, we could look at such as the meta line to see
 what version of ARC this is.</div>
<dl>
<dt><strong>覆盖:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#getVersion()">getVersion</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
<dt><span class="strong">返回:</span></dt><dd>Version of this ARC file.</dd></dl>
</li>
</ul>
<a name="isDate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDate</h4>
<pre>protected&nbsp;boolean&nbsp;isDate(java.lang.String&nbsp;date)</pre>
</li>
</ul>
<a name="isNumber(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNumber</h4>
<pre>protected&nbsp;boolean&nbsp;isNumber(java.lang.String&nbsp;n)</pre>
</li>
</ul>
<a name="isLegitimateIPValue(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLegitimateIPValue</h4>
<pre>protected&nbsp;boolean&nbsp;isLegitimateIPValue(java.lang.String&nbsp;ip)</pre>
</li>
</ul>
<a name="fixSpaceInURL(java.util.List, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fixSpaceInURL</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;fixSpaceInURL(java.util.List&lt;java.lang.String&gt;&nbsp;values,
                                             int&nbsp;requiredSize)</pre>
<div class="block">Fix space in URLs.
 The ARCWriter used to write into the ARC URLs with spaces in them.
 See <a
 href="https://sourceforge.net/tracker/?group_id=73833&atid=539099&func=detail&aid=1010966">[ 1010966 ]
 crawl.log has URIs with spaces in them</a>.
 This method does fix up on such headers converting all spaces found
 to '%20'.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>values</code> - List of metadata values.</dd><dd><code>requiredSize</code> - Expected size of resultant values list.</dd>
<dt><span class="strong">返回:</span></dt><dd>New list if we successfully fixed up values or original if
 fixup failed.</dd></dl>
</li>
</ul>
<a name="isAlignedOnFirstRecord()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAlignedOnFirstRecord</h4>
<pre>protected&nbsp;boolean&nbsp;isAlignedOnFirstRecord()</pre>
</li>
</ul>
<a name="setAlignedOnFirstRecord(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAlignedOnFirstRecord</h4>
<pre>protected&nbsp;void&nbsp;setAlignedOnFirstRecord(boolean&nbsp;alignedOnFirstRecord)</pre>
</li>
</ul>
<a name="isParseHttpHeaders()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isParseHttpHeaders</h4>
<pre>public&nbsp;boolean&nbsp;isParseHttpHeaders()</pre>
<dl><dt><span class="strong">返回:</span></dt><dd>Returns the parseHttpHeaders.</dd></dl>
</li>
</ul>
<a name="setParseHttpHeaders(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setParseHttpHeaders</h4>
<pre>public&nbsp;void&nbsp;setParseHttpHeaders(boolean&nbsp;parse)</pre>
<dl><dt><span class="strong">参数:</span></dt><dd><code>parse</code> - The parseHttpHeaders to set.</dd></dl>
</li>
</ul>
<a name="getFileExtension()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileExtension</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFileExtension()</pre>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#getFileExtension()">getFileExtension</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
</dl>
</li>
</ul>
<a name="getDotFileExtension()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDotFileExtension</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDotFileExtension()</pre>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#getDotFileExtension()">getDotFileExtension</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
</dl>
</li>
</ul>
<a name="output(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>output</h4>
<pre>protected&nbsp;boolean&nbsp;output(java.lang.String&nbsp;format)
                  throws java.io.IOException,
                         java.text.ParseException</pre>
<dl>
<dt><strong>覆盖:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#output(java.lang.String)">output</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>format</code> - Format to use outputting.</dd>
<dt><span class="strong">返回:</span></dt><dd>True if handled.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.text.ParseException</code></dd></dl>
</li>
</ul>
<a name="outputRecord(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputRecord</h4>
<pre>public&nbsp;boolean&nbsp;outputRecord(java.lang.String&nbsp;format)
                     throws java.io.IOException</pre>
<div class="block"><strong>从类复制的说明:&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html#outputRecord(java.lang.String)">ArchiveReader</a></code></strong></div>
<div class="block">Output passed record using passed format specifier.</div>
<dl>
<dt><strong>覆盖:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#outputRecord(java.lang.String)">outputRecord</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>format</code> - What format to use outputting.</dd>
<dt><span class="strong">返回:</span></dt><dd>True if handled.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="dump(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dump</h4>
<pre>public&nbsp;void&nbsp;dump(boolean&nbsp;compress)
          throws java.io.IOException,
                 java.text.ParseException</pre>
<div class="block"><strong>从类复制的说明:&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html#dump(boolean)">ArchiveReader</a></code></strong></div>
<div class="block">Dump this file on STDOUT</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#dump(boolean)">dump</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.text.ParseException</code></dd></dl>
</li>
</ul>
<a name="getDeleteFileOnCloseReader(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDeleteFileOnCloseReader</h4>
<pre>public&nbsp;<a href="../../../../org/archive/io/arc/ARCReader.html" title="org.archive.io.arc中的类">ARCReader</a>&nbsp;getDeleteFileOnCloseReader(java.io.File&nbsp;f)</pre>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code><a href="../../../../org/archive/io/ArchiveReader.html#getDeleteFileOnCloseReader(java.io.File)">getDeleteFileOnCloseReader</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/archive/io/ArchiveReader.html" title="org.archive.io中的类">ArchiveReader</a></code></dd>
<dt><span class="strong">返回:</span></dt><dd>an ArchiveReader that will delete a local file on close.  Used
 when we bring Archive files local and need to clean up afterward.</dd></dl>
</li>
</ul>
<a name="output(org.archive.io.arc.ARCReader, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>output</h4>
<pre>protected static&nbsp;void&nbsp;output(<a href="../../../../org/archive/io/arc/ARCReader.html" title="org.archive.io.arc中的类">ARCReader</a>&nbsp;reader,
          java.lang.String&nbsp;format)
                      throws java.io.IOException,
                             java.text.ParseException</pre>
<div class="block">Write out the arcfile.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>reader</code> - </dd><dd><code>format</code> - Format to use outputting.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.text.ParseException</code></dd></dl>
</li>
</ul>
<a name="createCDXIndexFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCDXIndexFile</h4>
<pre>public static&nbsp;void&nbsp;createCDXIndexFile(java.lang.String&nbsp;urlOrPath)
                               throws java.io.IOException,
                                      java.text.ParseException</pre>
<div class="block">Generate a CDX index file for an ARC file.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>urlOrPath</code> - The ARC file to generate a CDX index for</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.text.ParseException</code></dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws org.apache.commons.cli.ParseException,
                        java.io.IOException,
                        java.text.ParseException</pre>
<div class="block">Command-line interface to ARCReader.

 Here is the command-line interface:
 <pre>
 usage: java org.archive.io.arc.ARCReader [--offset=#] ARCFILE
  -h,--help      Prints this message and exits.
  -o,--offset    Outputs record at this offset into arc file.</pre>

 <p>See in <code>$HERITRIX_HOME/bin/arcreader</code> for a script that'll
 take care of classpaths and the calling of ARCReader.

 <p>Outputs using a pseudo-CDX format as described here:
 <a href="http://www.archive.org/web/researcher/cdx_legend.php">CDX
 Legent</a> and here
 <a href="http://www.archive.org/web/researcher/example_cdx.php">Example</a>.
 Legend used in below is: 'CDX b e a m s c V (or v if uncompressed) n g'.
 Hash is hard-coded straight SHA-1 hash of content.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>args</code> - Command-line arguments.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>org.apache.commons.cli.ParseException</code> - Failed parse of the command line.</dd>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.text.ParseException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/archive/io/arc/ARCLocation.html" title="org.archive.io.arc中的接口"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../org/archive/io/arc/ARCReaderFactory.html" title="org.archive.io.arc中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/archive/io/arc/ARCReader.html" target="_top">框架</a></li>
<li><a href="ARCReader.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.archive.io.ArchiveReader">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
