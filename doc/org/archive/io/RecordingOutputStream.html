<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Oct 23 23:57:32 CST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>RecordingOutputStream</title>
<meta name="date" content="2016-10-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RecordingOutputStream";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/archive/io/RecordingInputStreamTest.html" title="org.archive.io中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../org/archive/io/RecordingOutputStreamTest.html" title="org.archive.io中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/archive/io/RecordingOutputStream.html" target="_top">框架</a></li>
<li><a href="RecordingOutputStream.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.archive.io</div>
<h2 title="类 RecordingOutputStream" class="title">类 RecordingOutputStream</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.io.OutputStream</li>
<li>
<ul class="inheritance">
<li>org.archive.io.RecordingOutputStream</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd>java.io.Closeable, java.io.Flushable, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RecordingOutputStream</span>
extends java.io.OutputStream</pre>
<div class="block">An output stream that records all writes to wrapped output
 stream.

 A RecordingOutputStream can be wrapped around any other
 OutputStream to record all bytes written to it.  You can
 then request a ReplayInputStream to read those bytes.

 <p>The RecordingOutputStream uses an in-memory buffer and
 backing disk file to allow it to record streams of
 arbitrary length limited only by available disk space.

 <p>As long as the stream recorded is smaller than the
 in-memory buffer, no disk access will occur.

 <p>Recorded content can be recovered as a ReplayInputStream
 (via getReplayInputStream() or, for only the content after
 the content-begin-mark is set, getContentReplayInputStream() )
 or as a ReplayCharSequence (via getReplayCharSequence()).

 <p>This class is also used as a straight output stream
 by <a href="../../../org/archive/io/RecordingInputStream.html" title="org.archive.io中的类"><code>RecordingInputStream</code></a> to which it records all reads.
 <a href="../../../org/archive/io/RecordingInputStream.html" title="org.archive.io中的类"><code>RecordingInputStream</code></a> is exploiting the file backed buffer
 facility of this class passing <code>null</code> for the stream
 to wrap.  TODO: Make a FileBackedOutputStream class that is
 subclassed by RecordingInputStream.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#bufStreamBuf">bufStreamBuf</a></strong></code>
<div class="block">Reusable buffer for FastBufferedOutputStream</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.util.logging.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#logger">logger</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#MAX_HEADER_MATERIAL">MAX_HEADER_MATERIAL</a></strong></code>
<div class="block">Maximum amount of header material to accept without the content
 body beginning -- if more, throw a RecorderTooMuchHeaderException.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#maxLength">maxLength</a></strong></code>
<div class="block">maximum length of material to record before throwing exception</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#maxRateBytesPerMs">maxRateBytesPerMs</a></strong></code>
<div class="block">maximum rate to record (adds delays to hit target rate)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#startTime">startTime</a></strong></code>
<div class="block">time recording begins for timeout, rate calculations</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#timeoutMs">timeoutMs</a></strong></code>
<div class="block">maximum time to record before throwing exception</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#RecordingOutputStream(int,%20java.lang.String)">RecordingOutputStream</a></strong>(int&nbsp;bufferSize,
                     java.lang.String&nbsp;backingFilename)</code>
<div class="block">Create a new RecordingOutputStream.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#checkLimits()">checkLimits</a></strong>()</code>
<div class="block">Check any enforced limits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#closeDiskStream()">closeDiskStream</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#closeRecorder()">closeRecorder</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#flush()">flush</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getContentBegin()">getContentBegin</a></strong>()</code>
<div class="block">Return stored content-begin-mark (which is also end-of-headers)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/archive/io/ReplayInputStream.html" title="org.archive.io中的类">ReplayInputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getContentReplayInputStream()">getContentReplayInputStream</a></strong>()</code>
<div class="block">Return a replay stream, cued up to begining of content</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getDigestValue()">getDigestValue</a></strong>()</code>
<div class="block">Return the digest value for any recorded, digested data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getRemainingLength()">getRemainingLength</a></strong>()</code>
<div class="block">Return number of bytes that could be recorded without hitting 
 length limit</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/archive/io/ReplayCharSequence.html" title="org.archive.io中的接口">ReplayCharSequence</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getReplayCharSequence()">getReplayCharSequence</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/archive/io/ReplayCharSequence.html" title="org.archive.io中的接口">ReplayCharSequence</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getReplayCharSequence(java.lang.String)">getReplayCharSequence</a></strong>(java.lang.String&nbsp;characterEncoding)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/archive/io/ReplayCharSequence.html" title="org.archive.io中的接口">ReplayCharSequence</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getReplayCharSequence(java.lang.String,%20long)">getReplayCharSequence</a></strong>(java.lang.String&nbsp;characterEncoding,
                     long&nbsp;startOffset)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/archive/io/ReplayInputStream.html" title="org.archive.io中的类">ReplayInputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getReplayInputStream()">getReplayInputStream</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/archive/io/ReplayInputStream.html" title="org.archive.io中的类">ReplayInputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getReplayInputStream(long)">getReplayInputStream</a></strong>(long&nbsp;skip)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getResponseContentLength()">getResponseContentLength</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#getSize()">getSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#isOpen()">isOpen</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#mark()">mark</a></strong>()</code>
<div class="block">When used alongside a mark-supporting RecordingInputStream, remember
 a position reachable by a future reset().</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#markContentBegin()">markContentBegin</a></strong>()</code>
<div class="block">Remember the current position as the start of the "response
 body".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#open()">open</a></strong>()</code>
<div class="block">Wrap the given stream, both recording and passing along any data written
 to this RecordingOutputStream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#open(java.io.OutputStream)">open</a></strong>(java.io.OutputStream&nbsp;wrappedStream)</code>
<div class="block">Wrap the given stream, both recording and passing along any data written
 to this RecordingOutputStream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#reset()">reset</a></strong>()</code>
<div class="block">When used alongside a mark-supporting RecordingInputStream, reset 
 the position to that saved by previous mark().</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#resetLimits()">resetLimits</a></strong>()</code>
<div class="block">Reset limits to effectively-unlimited defaults</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#setDigest(java.security.MessageDigest)">setDigest</a></strong>(java.security.MessageDigest&nbsp;md)</code>
<div class="block">Sets a digest function which may be applied to recorded data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#setDigest(java.lang.String)">setDigest</a></strong>(java.lang.String&nbsp;algorithm)</code>
<div class="block">Sets a digest function which may be applied to recorded data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#setLimits(long,%20long,%20long)">setLimits</a></strong>(long&nbsp;length,
         long&nbsp;milliseconds,
         long&nbsp;rateKBps)</code>
<div class="block">Set limits on length, time, and rate to enforce.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#setSha1Digest()">setSha1Digest</a></strong>()</code>
<div class="block">Convenience method for setting SHA1 digest.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#startDigest()">startDigest</a></strong>()</code>
<div class="block">Starts digesting recorded data, if a MessageDigest has been
 set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#write(byte[],%20int,%20int)">write</a></strong>(byte[]&nbsp;b,
     int&nbsp;off,
     int&nbsp;len)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/archive/io/RecordingOutputStream.html#write(int)">write</a></strong>(int&nbsp;b)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.io.OutputStream">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.io.OutputStream</h3>
<code>write</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected static&nbsp;java.util.logging.Logger logger</pre>
</li>
</ul>
<a name="bufStreamBuf">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufStreamBuf</h4>
<pre>protected&nbsp;byte[] bufStreamBuf</pre>
<div class="block">Reusable buffer for FastBufferedOutputStream</div>
</li>
</ul>
<a name="MAX_HEADER_MATERIAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_HEADER_MATERIAL</h4>
<pre>protected static final&nbsp;long MAX_HEADER_MATERIAL</pre>
<div class="block">Maximum amount of header material to accept without the content
 body beginning -- if more, throw a RecorderTooMuchHeaderException.
 TODO: make configurable? make smaller?</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../constant-values.html#org.archive.io.RecordingOutputStream.MAX_HEADER_MATERIAL">常量字段值</a></dd></dl>
</li>
</ul>
<a name="maxLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxLength</h4>
<pre>protected&nbsp;long maxLength</pre>
<div class="block">maximum length of material to record before throwing exception</div>
</li>
</ul>
<a name="timeoutMs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeoutMs</h4>
<pre>protected&nbsp;long timeoutMs</pre>
<div class="block">maximum time to record before throwing exception</div>
</li>
</ul>
<a name="maxRateBytesPerMs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxRateBytesPerMs</h4>
<pre>protected&nbsp;long maxRateBytesPerMs</pre>
<div class="block">maximum rate to record (adds delays to hit target rate)</div>
</li>
</ul>
<a name="startTime">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>startTime</h4>
<pre>protected&nbsp;long startTime</pre>
<div class="block">time recording begins for timeout, rate calculations</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="RecordingOutputStream(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RecordingOutputStream</h4>
<pre>public&nbsp;RecordingOutputStream(int&nbsp;bufferSize,
                     java.lang.String&nbsp;backingFilename)</pre>
<div class="block">Create a new RecordingOutputStream.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>bufferSize</code> - Buffer size to use.</dd><dd><code>backingFilename</code> - Name of backing file to use.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="open()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;void&nbsp;open()
          throws java.io.IOException</pre>
<div class="block">Wrap the given stream, both recording and passing along any data written
 to this RecordingOutputStream.</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code> - If failed creation of backing file.</dd></dl>
</li>
</ul>
<a name="open(java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;void&nbsp;open(java.io.OutputStream&nbsp;wrappedStream)
          throws java.io.IOException</pre>
<div class="block">Wrap the given stream, both recording and passing along any data written
 to this RecordingOutputStream.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>wrappedStream</code> - Stream to wrap.  May be null for case where we
 want to write to a file backed stream only.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code> - If failed creation of backing file.</dd></dl>
</li>
</ul>
<a name="write(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(int&nbsp;b)
           throws java.io.IOException</pre>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code>write</code>&nbsp;在类中&nbsp;<code>java.io.OutputStream</code></dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="write(byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(byte[]&nbsp;b,
         int&nbsp;off,
         int&nbsp;len)
           throws java.io.IOException</pre>
<dl>
<dt><strong>覆盖:</strong></dt>
<dd><code>write</code>&nbsp;在类中&nbsp;<code>java.io.OutputStream</code></dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="checkLimits()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkLimits</h4>
<pre>protected&nbsp;void&nbsp;checkLimits()
                    throws <a href="../../../org/archive/io/RecorderIOException.html" title="org.archive.io中的类">RecorderIOException</a></pre>
<div class="block">Check any enforced limits.</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../org/archive/io/RecorderIOException.html" title="org.archive.io中的类">RecorderIOException</a></code></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code>close</code>&nbsp;在接口中&nbsp;<code>java.io.Closeable</code></dd>
<dt><strong>指定者:</strong></dt>
<dd><code>close</code>&nbsp;在接口中&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><strong>覆盖:</strong></dt>
<dd><code>close</code>&nbsp;在类中&nbsp;<code>java.io.OutputStream</code></dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="closeDiskStream()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeDiskStream</h4>
<pre>protected&nbsp;void&nbsp;closeDiskStream()
                        throws java.io.IOException</pre>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="closeRecorder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeRecorder</h4>
<pre>public&nbsp;void&nbsp;closeRecorder()
                   throws java.io.IOException</pre>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;void&nbsp;flush()
           throws java.io.IOException</pre>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code>flush</code>&nbsp;在接口中&nbsp;<code>java.io.Flushable</code></dd>
<dt><strong>覆盖:</strong></dt>
<dd><code>flush</code>&nbsp;在类中&nbsp;<code>java.io.OutputStream</code></dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getReplayInputStream()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplayInputStream</h4>
<pre>public&nbsp;<a href="../../../org/archive/io/ReplayInputStream.html" title="org.archive.io中的类">ReplayInputStream</a>&nbsp;getReplayInputStream()
                                       throws java.io.IOException</pre>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getReplayInputStream(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplayInputStream</h4>
<pre>public&nbsp;<a href="../../../org/archive/io/ReplayInputStream.html" title="org.archive.io中的类">ReplayInputStream</a>&nbsp;getReplayInputStream(long&nbsp;skip)
                                       throws java.io.IOException</pre>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getContentReplayInputStream()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContentReplayInputStream</h4>
<pre>public&nbsp;<a href="../../../org/archive/io/ReplayInputStream.html" title="org.archive.io中的类">ReplayInputStream</a>&nbsp;getContentReplayInputStream()
                                              throws java.io.IOException</pre>
<div class="block">Return a replay stream, cued up to begining of content</div>
<dl><dt><span class="strong">返回:</span></dt><dd>An RIS.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;long&nbsp;getSize()</pre>
</li>
</ul>
<a name="markContentBegin()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markContentBegin</h4>
<pre>public&nbsp;void&nbsp;markContentBegin()</pre>
<div class="block">Remember the current position as the start of the "response
 body". Useful when recording HTTP traffic as a way to start
 replays after the headers.</div>
</li>
</ul>
<a name="getContentBegin()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContentBegin</h4>
<pre>public&nbsp;long&nbsp;getContentBegin()</pre>
<div class="block">Return stored content-begin-mark (which is also end-of-headers)</div>
</li>
</ul>
<a name="startDigest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startDigest</h4>
<pre>public&nbsp;void&nbsp;startDigest()</pre>
<div class="block">Starts digesting recorded data, if a MessageDigest has been
 set.</div>
</li>
</ul>
<a name="setSha1Digest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSha1Digest</h4>
<pre>public&nbsp;void&nbsp;setSha1Digest()</pre>
<div class="block">Convenience method for setting SHA1 digest.</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../org/archive/io/RecordingOutputStream.html#setDigest(java.lang.String)"><code>setDigest(String)</code></a></dd></dl>
</li>
</ul>
<a name="setDigest(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDigest</h4>
<pre>public&nbsp;void&nbsp;setDigest(java.lang.String&nbsp;algorithm)</pre>
<div class="block">Sets a digest function which may be applied to recorded data.
 The difference between calling this method and <a href="../../../org/archive/io/RecordingOutputStream.html#setDigest(java.security.MessageDigest)"><code>setDigest(MessageDigest)</code></a>
 is that this method tries to reuse MethodDigest instance if already allocated
 and of appropriate algorithm.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>algorithm</code> - Message digest algorithm to use.</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../org/archive/io/RecordingOutputStream.html#setDigest(java.security.MessageDigest)"><code>setDigest(MessageDigest)</code></a></dd></dl>
</li>
</ul>
<a name="setDigest(java.security.MessageDigest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDigest</h4>
<pre>public&nbsp;void&nbsp;setDigest(java.security.MessageDigest&nbsp;md)</pre>
<div class="block">Sets a digest function which may be applied to recorded data.

 As usually only a subset of the recorded data should
 be fed to the digest, you must also call startDigest()
 to begin digesting.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>md</code> - Message digest function to use.</dd></dl>
</li>
</ul>
<a name="getDigestValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDigestValue</h4>
<pre>public&nbsp;byte[]&nbsp;getDigestValue()</pre>
<div class="block">Return the digest value for any recorded, digested data. Call
 only after all data has been recorded; otherwise, the running
 digest state is ruined.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the digest final value</dd></dl>
</li>
</ul>
<a name="getReplayCharSequence()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplayCharSequence</h4>
<pre>public&nbsp;<a href="../../../org/archive/io/ReplayCharSequence.html" title="org.archive.io中的接口">ReplayCharSequence</a>&nbsp;getReplayCharSequence()
                                         throws java.io.IOException</pre>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getReplayCharSequence(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplayCharSequence</h4>
<pre>public&nbsp;<a href="../../../org/archive/io/ReplayCharSequence.html" title="org.archive.io中的接口">ReplayCharSequence</a>&nbsp;getReplayCharSequence(java.lang.String&nbsp;characterEncoding)
                                         throws java.io.IOException</pre>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getReplayCharSequence(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplayCharSequence</h4>
<pre>public&nbsp;<a href="../../../org/archive/io/ReplayCharSequence.html" title="org.archive.io中的接口">ReplayCharSequence</a>&nbsp;getReplayCharSequence(java.lang.String&nbsp;characterEncoding,
                                       long&nbsp;startOffset)
                                         throws java.io.IOException</pre>
<dl><dt><span class="strong">参数:</span></dt><dd><code>characterEncoding</code> - Encoding of recorded stream.</dd>
<dt><span class="strong">返回:</span></dt><dd>A ReplayCharSequence  Will return null if an IOException.  Call
 close on returned RCS when done.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getResponseContentLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResponseContentLength</h4>
<pre>public&nbsp;long&nbsp;getResponseContentLength()</pre>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<dl><dt><span class="strong">返回:</span></dt><dd>True if this ROS is open.</dd></dl>
</li>
</ul>
<a name="mark()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mark</h4>
<pre>public&nbsp;void&nbsp;mark()</pre>
<div class="block">When used alongside a mark-supporting RecordingInputStream, remember
 a position reachable by a future reset().</div>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">When used alongside a mark-supporting RecordingInputStream, reset 
 the position to that saved by previous mark(). Until the position 
 again reached "new" material, none of the bytes pushed to this 
 stream will be digested or recorded.</div>
</li>
</ul>
<a name="setLimits(long, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLimits</h4>
<pre>public&nbsp;void&nbsp;setLimits(long&nbsp;length,
             long&nbsp;milliseconds,
             long&nbsp;rateKBps)</pre>
<div class="block">Set limits on length, time, and rate to enforce.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>length</code> - </dd><dd><code>milliseconds</code> - </dd><dd><code>rateKBps</code> - </dd></dl>
</li>
</ul>
<a name="resetLimits()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetLimits</h4>
<pre>public&nbsp;void&nbsp;resetLimits()</pre>
<div class="block">Reset limits to effectively-unlimited defaults</div>
</li>
</ul>
<a name="getRemainingLength()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRemainingLength</h4>
<pre>public&nbsp;long&nbsp;getRemainingLength()</pre>
<div class="block">Return number of bytes that could be recorded without hitting 
 length limit</div>
<dl><dt><span class="strong">返回:</span></dt><dd>long byte count</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/archive/io/RecordingInputStreamTest.html" title="org.archive.io中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../org/archive/io/RecordingOutputStreamTest.html" title="org.archive.io中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/archive/io/RecordingOutputStream.html" target="_top">框架</a></li>
<li><a href="RecordingOutputStream.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
